function call(){var e=form.serialize();$.ajax({type:"POST",url:"http://codeit.pro/frontTestTask/user/registration",data:e,success:function(e){serverResponse=e.message,locateToPage()}})}function locateToPage(){"User created"!==serverResponse?$(".error-message").html(serverResponse).css("display","block"):($(".error-message").html(serverResponse).css({display:"block",color:"green"}),location="companies.html")}jQuery.validator.addMethod("lettersonly",function(e,r){return this.optional(r)||/[A-zА-яЁё]/i.test(e)},"Letters and spaces only please"),jQuery.validator.setDefaults({debug:!0,success:"valid"});var serverResponse,form=$("#formbox");$("#submit-btn").on("click",function(){form.validate({rules:{name:{required:!0,lettersonly:!0,minlength:4,maxlength:16},secondname:{required:!0,lettersonly:!0,minlength:4,maxlength:16},email:{required:!0,email:!0},pass:{required:!0,minlength:3,maxlength:16},agreement:{required:!0},gender:{required:!0}},messages:{name:{required:"Это поле обязательно для заполнения",minlength:"Логин должен быть минимум 3 символа",maxlength:"Максимальное число символов - 16",lettersonly:"Имя может содержать только буквы"},secondname:{required:"Это поле обязательно для заполнения",minlength:"Логин должен быть минимум 3 символа",maxlength:"Максимальное число символов - 16",lettersonly:"Фамилия может содержать только буквы"},email:{required:"Это поле обязательно для заполнения",email:"Введите правильный e-mail"},pass:{required:"Это поле обязательно для заполнения",minlength:"Пароль должен быть минимум 6 символа",maxlength:"Пароль должен быть максимум 16 символов"},agreement:{required:"Вы должны согласиться с правилами"},gender:{required:"Это поле обязательно для заполнения"}}}),1==form.valid()&&call()});